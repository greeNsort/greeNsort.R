## ----include = FALSE----------------------------------------------------------
knitr::opts_chunk$set(
  collapse = TRUE
, comment = "#>"
, fig.width = 7.5
, fig.height = 5 
, out.width = "100%"
, R.options = list(width=85)
)

## ----setup-------------------------------------------------------------------------
library(greeNsort)

## ----------------------------------------------------------------------------------
require(greeNsort)

## ----------------------------------------------------------------------------------
x <- runif(7)    # a vector with 7 uniform random numbers between 0 and 1
y <- sort(x)
rbind(x,y)

## ----------------------------------------------------------------------------------
x <- runif(7)
m <- Quicksort2(x)
cat("\n-- the input x is now sorted --\n")
print(x)
cat("\n-- the return value is a row of measurement values --\n")
m

## ----------------------------------------------------------------------------------
x <- runif(7)
y <- x   # NOTE this is no deepcopy, just assigns a second name-symbol to the same memory
y <- x[] # THIS is a deepcopy allocating fresh memory
m <- Quicksort2(y)
rbind(x,y)

## ----------------------------------------------------------------------------------
x <- prunif(2^25)
y <- x[]
k <- Knuthsort(y)
k

## ----------------------------------------------------------------------------------
perf(k)

## ----------------------------------------------------------------------------------
sperf(k)

## ----------------------------------------------------------------------------------
x <- prunif(2^25)
m <- rbind(
   {y <- x[]; Knuthsort(y)}
,  {y <- x[]; IMergesort(y)}
,  {y <- x[]; Grailsort(y)}
,  {y <- x[]; Frogsort1(y)}
,  {y <- x[]; Frogsort2(y)}
)
k <- sperf(m)
k[order(k[,"bcdFootprint"]),]

## ----------------------------------------------------------------------------------
t(k)

## ----------------------------------------------------------------------------------
kn <- t(t(k)/k["Knuthsort",])
kn[order(kn[,"bcdFootprint"], decreasing = TRUE),]

## ----------------------------------------------------------------------------------
matplot(1:5, t(kn), type="b", pch=c('K','I','G','F','2'), xaxt='n', xlab="KPIs", ylab="costs relative to Knuthsort", main="(K)nuth  (I)Merge  (G)rail  (F)rog1  Frog(2)")
axis(side=1, at=1:5, labels = perflabels()[colnames(kn)])

## ----------------------------------------------------------------------------------
sperf(perfplus(m, rowname = "Total"))

## ----------------------------------------------------------------------------------
dimnames(testdb)

## ----------------------------------------------------------------------------------
testdb[,c("desc", "code")]

## ----------------------------------------------------------------------------------
D <- c("permut","tielog2","ascall","asclocal","ascglobal")
testdb[D,c("desc", "code")]

## ----------------------------------------------------------------------------------
N <- 7
testdb$func$permut(N)

## ----------------------------------------------------------------------------------
N <- 90
for (d in D)
  plot(testdb[[d,"func"]](N), col=rgb(red=0, green=0, blue=1, alpha=0.5), main=d)

## ----------------------------------------------------------------------------------
dimnames(algodb)

## ----------------------------------------------------------------------------------
table(algodb$task, algodb$stable, useNA= "ifany")[c("MEDIAN","SELECT","SORT","sort"),]

## ----------------------------------------------------------------------------------
as.list(subset(algodb
      , task=="SORT"              # non-small sorting algorithms
       & stable                   # that are stable
       & class == "S&M"           # have class Split&Merge
       & log == 2                 # are binary
       & !adapt_asc=="tuned"      # are not tuned for presorted data
       & avoid_bm=="no"           # do not avoid branch mispredictions
       & !parallel                # are not parallel
       & !varying                 # are not varying
       , c("label","name"         # columns selected: "label" and "names"
       )))

## ----------------------------------------------------------------------------------
n <- 2^18
x <- runif(n)
A <- c("Knuth","Bime","Frog1","Frog2","Frog3","Walk","Sqrt","Grail")
names(A) <- algodb[A, "name"]
R <- 1:50
names(R) <- R
# we collect the results in a A x D matrix of list elements
L <- lapply(R, function(r){
  #cat("r=", r, "\n", sep="")
  set.seed(r)
  x <- testdb$func$permut(n)
  do.call("rbind", lapply(
      sample(A)  # random order of algorithms for each replication
    , function(a){
    y <- x[] 
    perf(algodb[[a,"func"]](y))
  }
  ))[names(A),]  # undo random order
})
rm(x)
RAM <- do.call("rbind", lapply(L,function(l)l[,"%RAM"]))
runTime <- do.call("rbind", lapply(L,function(l)l[,"runTime"]))
Energy <- do.call("rbind", lapply(L,function(l)l[,"bcdEnergy"]))
eFootprint <- do.call("rbind", lapply(L,function(l)l[,"bcdFootprint"]))
runTime <- runTime/min(apply(runTime, 2, median))
Energy <- Energy/min(apply(Energy, 2, median))
eFootprint <- eFootprint/min(apply(eFootprint, 2, median))

## ----------------------------------------------------------------------------------
cbind(
  "%RAM"    = apply(RAM       , 2, median)
, runTime   = apply(runTime   , 2, median)
, Energy    = apply(Energy    , 2, median)
, eFootprint= apply(eFootprint, 2, median)
)

## ----------------------------------------------------------------------------------
boxplot(eFootprint, names=A, border="green2", col="palegreen", main="blue=runtime green=eFootprint", ylab="KPI relative to min(median(KPI))")
boxplot(runTime, names=A, border="blue", col="lightskyblue", add=TRUE)

## ----------------------------------------------------------------------------------
n <- 2^18
E <- sample(seq(20, 2, by=-0.05))
P <- 1/E
names(P) <- paste("1/", E, sep="")
M <- do.call("rbind", lapply(P
    , function(p){
      #cat("p=", p, "\n", sep="")
    perf(Frogsort2(runif(n), p=p))
  }
))
M <- M[order(P),]
E <- E[order(P)]
P <- P[order(P)]
srunTime <- supsmu(P, M[,"runTime"])$y
sEnergy <- supsmu(P, M[,"bcdEnergy"])$y
sFootprint <- supsmu(P, M[,"bcdFootprint"])$y
runTime <- M[,"runTime"] / min(srunTime)
Energy <- M[,"bcdEnergy"] / min(sEnergy)
Footprint <- M[,"bcdFootprint"] / min(sFootprint)
srunTime <- srunTime / min(srunTime)
sEnergy <- sEnergy / min(sEnergy)
sFootprint <- sFootprint / min(sFootprint)

## ----------------------------------------------------------------------------------
matplot(P, cbind(runTime, Energy, Footprint), col=c("blue","red","green2"), log="xy", cex=0.5, pch=c("T","E","F"), xlab="%Buffer", ylab="KPI relative to its minimum", main="black=runTime red=Energy green=eFootprint")
matlines(P,cbind(srunTime, sEnergy, sFootprint), col=c("blue","red","green2"), lty=1, lwd=3)

## ----------------------------------------------------------------------------------
table(algodb$adapt_asc, useNA="ifany")

## ----------------------------------------------------------------------------------
A <- c("Knuth", algodb$label[algodb$task=="SORT" & algodb$adapt_asc %in% c("hard","tuned")])
split(A, algodb[A,"adapt_asc"])

## ----echo=FALSE--------------------------------------------------------------------
runTime <-
structure(c(2.894469283, 2.973647177, 2.854824894, 2.869093236, 
2.840243266, 2.791652538, 2.805801449, 2.076768539, 2.08691537, 
2.088883457, 0.473376685, 0.452677771, 3.242663764, 3.201544913, 
3.139414252, 1.679465054, 1.654428628, 1.660786609, 1.889886925, 
1.703816811, 1.685060831, 1.618034377, 1.254010291, 1.215835515, 
1.21374481, 0.383105976, 0.372908388, 1.852833968, 1.854088965, 
1.873545274, 2.245684272, 2.038499946, 1.640974091, 1.832314643, 
1.997597183, 1.971083673, 1.7062737, 1.70345029, 1.729360531, 
1.268897205, 0.410880115, 0.426200807, 1.798042425, 1.879764308, 
1.863607275, 1.587684422, 1.577437253, 1.573767289, 1.479247696, 
1.477505922, 1.441491274, 1.491264688, 1.157029564, 1.19010284, 
1.311997055, 0.301546903, 0.339770025, 1.444215775, 1.58633588, 
1.611034229, 1.57369238, 1.58576083, 1.576292814, 1.477337076, 
1.522791829, 1.555404923, 1.552921707, 1.583971045, 1.590474437, 
1.48102239, 0.339996126, 0.366996942, 1.837365901, 1.759426096, 
1.701391884, 0.48481409, 0.038921333, 0.039547743, 0.521509011, 
0.297041165, 0.21946257, 0.22208883, 0.175643098, 0.12201568, 
0.124618332, 0.22547001, 0.239410072, 0.025761963, 0.080040866, 
0.084698263, 0.944240463, 0.819815524, 0.0570419130000001, 0.464763945, 
0.622685965, 0.6768152, 0.240202643, 1.020004732, 1.048133007, 
0.13542488, 0.287292113, 0.341779845, 0.050085538, 0.158218152, 
0.099768089, 1.788064905875, 1.7077697335, 1.532257530875, 1.675405721, 
1.662740675875, 1.641577943375, 1.555298605375, 1.38095576225, 
1.38371909375, 1.21418394825, 0.361880576625, 0.374052702625, 
1.68670413725, 1.715120511625, 1.68910918975, 1.66160821225, 
1.56110859775, 1.53223163375, 1.689934217, 1.579651791, 1.53441680325, 
1.534297336, 1.165862873, 1.15371735125, 1.1848109135, 0.3458748935, 
0.351191564, 1.6413688675, 1.680502656, 1.6771730045), dim = c(15L, 
9L), dimnames = list(c("Knuth", "Omit", "Octo", "Gecko1", "Frog1", 
"Frog1A", "Squid1", "Frog2", "Frog2A", "Squid2", "PFrog1", "PFrog2", 
"Tim", "Peek", "Power"), c("permut", "asclocal", "desclocal", 
"ascglobal", "descglobal", "ascall", "descall", "ALL", "ASC")))

Energy <-
structure(c(58.267815, 59.958951, 47.389852, 46.79061, 46.519093, 
46.19982, 46.186531, 35.552437, 36.378596, 36.904571, 15.613603, 
15.166574, 55.118243, 52.976966, 53.499492, 27.918661, 27.094592, 
27.300468, 31.443427, 28.215032, 27.473341, 27.169249, 22.148055, 
21.499987, 22.17114, 12.204692, 12.526544, 31.394815, 31.120171, 
31.535967, 37.493895, 34.823105, 27.734833, 30.508295, 33.184624, 
33.863406, 28.069044, 29.669715, 30.31438, 23.238407, 13.349438, 
14.261668, 31.295257, 31.672846, 31.434363, 26.867659, 26.663233, 
26.749669, 24.908075, 24.408985, 24.244993, 24.841244, 19.530438, 
19.838451, 22.716201, 10.101193, 8.988579, 23.7667, 27.059544, 
27.436157, 26.763234, 26.208102, 26.732138, 25.062638, 25.500848, 
26.120338, 25.810494, 27.009331, 27.790845, 25.980422, 11.879909, 
11.978049, 30.970322, 29.836714, 29.353051, 8.447698, 0.593246, 
0.594421, 9.635519, 5.17144, 3.554153, 3.646601, 3.26448, 2.123334, 
2.123624, 6.866634, 5.556781, 0.340376, 1.10622, 1.254086, 16.625941, 
14.551601, 0.901626, 8.460851, 11.21373, 12.287649, 3.901669, 
18.399714, 18.935727, 2.345399, 9.740387, 11.036036, 0.973674, 
2.652649, 1.519941, 32.58158975, 31.231472625, 25.599107375, 
27.950003125, 27.591605625, 27.49294, 25.726420375, 23.890825875, 
24.1574895, 21.548041875, 11.921182375, 11.835100625, 28.62220375, 
28.6752595, 28.691568625, 30.37545825, 28.5775055, 25.5086025, 
28.19440775, 26.0786375, 25.36807675, 25.46090625, 20.1238525, 
19.960092, 20.978884, 11.1965305, 10.5596195, 27.6550335, 28.06572525, 
28.4314255), dim = c(15L, 9L), dimnames = list(c("Knuth", "Omit", 
"Octo", "Gecko1", "Frog1", "Frog1A", "Squid1", "Frog2", "Frog2A", 
"Squid2", "PFrog1", "PFrog2", "Tim", "Peek", "Power"), c("permut", 
"asclocal", "desclocal", "ascglobal", "descglobal", "ascall", 
"descall", "ALL", "ASC")))

eFootprint <-
structure(c(116.53563, 119.917902, 94.779704, 70.185915, 69.7786395, 
69.29973, 69.2797965, 40.6313573282466, 41.575539060119, 42.1766533570299, 
23.4204045, 18.1998890711995, 82.6773645, 79.465449, 80.249238, 
55.837322, 54.189184, 54.600936, 47.1651405, 42.322548, 41.2100115, 
40.7538735, 25.3120633286168, 24.571414171964, 25.338446186251, 
18.307038, 15.0318530239921, 47.0922225, 46.6802565, 47.3039505, 
74.98779, 69.64621, 55.469666, 45.7624425, 49.776936, 50.795109, 
42.103566, 33.908246345876, 34.6450063595992, 26.5581799232561, 
20.024157, 17.1140018550185, 46.9428855, 47.509269, 47.1515445, 
53.735318, 53.326466, 53.499338, 37.3621125, 36.6134775, 36.3674895, 
37.261866, 22.3205009871803, 22.6725158508799, 25.9613730549968, 
15.1517895, 10.7862949607283, 35.65005, 40.589316, 41.1542355, 
53.526468, 52.416204, 53.464276, 37.593957, 38.251272, 39.180507, 
38.715741, 30.8678074321006, 31.7609663058798, 29.6919114101978, 
17.8198635, 14.3736590141842, 46.455483, 44.755071, 44.0295765, 
16.895396, 1.186492, 1.188842, 14.4532785, 7.75716, 5.3312295, 
5.4699015, 3.73083435520649, 2.42666747377163, 2.42699890234923, 
10.299951, 6.66813729936299, 0.510564, 1.65933, 1.881129, 33.251882, 
29.103202, 1.803252, 12.6912765, 16.820595, 18.4314735, 5.8525035, 
21.0282449631101, 21.6408312602347, 2.68045604992738, 14.6105805, 
13.2432433973397, 1.460511, 3.9789735, 2.2799115, 65.1631795, 
62.46294525, 51.19821475, 41.9250046875, 41.3874084375, 41.23941, 
38.5896305625, 27.3038015085729, 27.6085599428209, 24.6263340301298, 
17.8817735625, 14.2021209616281, 42.933305625, 43.01288925, 43.0373529375, 
60.7509165, 57.155011, 51.017205, 42.291611625, 39.11795625, 
38.052115125, 38.191359375, 22.9986889998125, 22.8115341391836, 
23.9758678751568, 16.79479575, 12.6715435888207, 41.48255025, 
42.098587875, 42.64713825), dim = c(15L, 9L), dimnames = list(
    c("Knuth", "Omit", "Octo", "Gecko1", "Frog1", "Frog1A", "Squid1", 
    "Frog2", "Frog2A", "Squid2", "PFrog1", "PFrog2", "Tim", "Peek", 
    "Power"), c("permut", "asclocal", "desclocal", "ascglobal", 
    "descglobal", "ascall", "descall", "ALL", "ASC")))

## ----eval=FALSE--------------------------------------------------------------------
#  A <- c("Knuth","Omit","Octo","Gecko1", "Frog1","Frog1A","Squid1","Frog2","Frog2A","Squid2","PFrog1","PFrog2","Tim","Peek","Power")
#  names(A) <- A
#  D <- c("permut", "asclocal", "desclocal", "ascglobal", "descglobal", "ascall", "descall")
#  names(D) <- D
#  n <- 2^25
#  #n4 <- n/4
#  # we collect the results in a A x D matrix of list elements
#  M <- do.call("cbind", lapply(D, function(d){
#    cat("d=", d, "\n", sep="")
#    x <- testdb[[d,"func"]](n)
#    P <- lapply(A, function(a){
#      cat("  a=", a, "\n", sep="")
#      #if (algodb[[a,"varying"]]){
#      #  y <- num2str(e[1:n4])
#      #}else{
#        y <- x[]
#      #}
#      Sys.sleep(1)  # cool down CPU for fair TURBO
#      perf(algodb[[a,"func"]](y))
#    })
#    P
#  }))
#  T <- function(x)cbind(x, "ALL"=rowMeans(cbind(x, x[,"permut"])), ASC=rowMeans(x[,c("permut","asclocal","ascglobal","ascall")]))
#  runTime <- T(apply(M,1:2,function(i)i[[1]][,"runTime"]))
#  Energy <- T(apply(M,1:2,function(i)i[[1]][,"bcdEnergy"]))
#  eFootprint <- T(apply(M,1:2,function(i)i[[1]][,"bcdFootprint"]))
#  dput(runTime)
#  dput(Energy)
#  dput(eFootprint)

## ----------------------------------------------------------------------------------
round(t(t(runTime)/runTime["Knuth","permut"]), 3)

## ----------------------------------------------------------------------------------
round(t(t(Energy)/Energy["Knuth","permut"]), 3)

## ----------------------------------------------------------------------------------
round(t(t(eFootprint)/eFootprint["Knuth","permut"]), 3)

## ----------------------------------------------------------------------------------
as.list(subset(algodb
      , task=="SORT"              # non-small sorting algorithms
       & class == "P&P"           # that have class Partition&Pool
       & !stable                  # are stable
       & log == 2                 # are binary
       & !parallel                # are not parallel
       & !varying                 # are not varying
       , c("label","name"         # columns selected: "label" and "names"
       )))

## ----------------------------------------------------------------------------------
n <- 2^18
x <- runif(n)
A <- c("Quick2","Quick3","Dupi","Quick2B","Zack","ZackB")
names(A) <- algodb[A, "name"]
R <- 1:50
names(R) <- R
# we collect the results in a A x D matrix of list elements
L <- lapply(R, function(r){
  #cat("r=", r, "\n", sep="")
  set.seed(r)
  x <- testdb$func$tiesqrt(n)
  do.call("rbind", lapply(
      sample(A)  # random order of algorithms for each replication
    , function(a){
    y <- x[] 
    perf(algodb[[a,"func"]](y))
  }
  ))[names(A),]  # undo random order
})
rm(x)
RAM <- do.call("rbind", lapply(L,function(l)l[,"%RAM"]))
runTime <- do.call("rbind", lapply(L,function(l)l[,"runTime"]))
Energy <- do.call("rbind", lapply(L,function(l)l[,"bcdEnergy"]))
runTime <- runTime/min(apply(runTime, 2, median))
Energy <- Energy/min(apply(Energy, 2, median))

## ----------------------------------------------------------------------------------
cbind(
  "%RAM"    = apply(RAM       , 2, median)
, runTime   = apply(runTime   , 2, median)
, Energy    = apply(Energy    , 2, median)
)

## ----------------------------------------------------------------------------------
boxplot(Energy, names=A, border="red", col="orange", main="blue=runtime red=Energy")
boxplot(runTime, names=A, border="blue", col="lightskyblue", add=TRUE)

## ----echo = FALSE------------------------------------------------------------------
#situtation <- "insitu"
situtation <- "exsitu"
if (situtation == "insitu"){
runTime <-
structure(c(12.059773994, 6.374783473, 3.393269501, 3.322040227, 
2.078176129, 2.065225493, 2.043152747, 2.033799003, 1.619081296, 
1.606622935, 1.612837901, 1.585236198, 1.595436376, 1.635676838, 
1.629608395, 1.625822503, 1.573970631, 1.572094616, 1.557170426, 
1.55413665, 1.562328608, 1.543910043, 1.581753698, 1.564312841, 
1.556937865, 1.534808277, 1.528602024, 1.545364563, 1.542511463, 
1.551148032, 1.554504803, 1.549467343, 5.448191822, 2.662098438, 
4.917951133, 4.033243982, 2.848178655, 4.465039423, 2.1779485, 
2.065729889, 2.488226533, 3.501659097, 2.555486563, 2.488814048, 
3.654838563, 2.134175612, 2.187220247, 4.760019041, 4.65860172, 
4.830088349, 4.669744335, 1.918639735, 2.317156631, 3.089112036, 
3.062217353, 3.368424313, 3.085854427, 3.419435768, 3.05086833, 
2.227735421, 2.65048103, 4.816427752, 3.321403553, 5.076388885, 
12.655607711, 6.549066315, 3.578754862, 3.483357198, 2.226782196, 
2.195871328, 2.133056512, 2.099946118, 1.662944067, 1.638018725, 
1.62350675, 1.619822162, 1.632717948, 1.625305778, 1.62920046, 
1.639144534, 1.579737731, 1.568201346, 1.567385355, 1.571505692, 
1.565904578, 1.551441692, 1.568515397, 1.541599277, 1.552343314, 
1.560422756, 1.561497374, 1.574328905, 1.56518368, 1.564790436, 
1.561910414, 1.564242876, 8.172113167, 4.792564386, 4.033864745, 
3.018769356, 2.641002076, 2.380975127, 2.3140792, 2.152138266, 
2.16154828, 1.992711036, 2.029139952, 1.895525891, 1.909416861, 
1.906372159, 1.817927141, 1.870881197, 1.903795405, 1.865593292, 
1.809426805, 1.862083898, 1.804755944, 1.856944121, 1.825488908, 
1.830762192, 1.839908753, 1.830443997, 1.845262671, 1.818488794, 
1.828798424, 1.86959859, 1.833002819, 1.855801734), dim = c(32L, 
4L), dimnames = list(c("1", "2", "3", "4", "5", "6", "7", "8", 
"9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", 
"20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", 
"31", "32"), c("PKnuth", "PQuick2B", "PFrog0", "PFrog2")))

Energy <-
structure(c(209.022638, 159.183632, 128.291126, 126.040769, 81.854852, 
81.675219, 80.962137, 80.454641, 63.717256, 63.136246, 63.426468, 
62.641643, 62.975106, 64.577257, 64.300599, 64.07211, 61.760203, 
61.791528, 61.171168, 61.082153, 61.448223, 61.114821, 62.18468, 
61.769221, 60.974584, 60.631813, 60.197433, 60.694249, 60.765474, 
61.180429, 61.548011, 61.221932, 97.502694, 74.959716, 93.589963, 
85.951702, 75.770282, 89.753582, 69.34935, 64.86571, 70.897869, 
78.701024, 68.679844, 70.505631, 81.716584, 63.436051, 66.972855, 
92.99397, 90.425637, 94.005957, 91.228528, 65.221664, 67.951305, 
76.279732, 78.113468, 80.351298, 76.939152, 79.098632, 77.744728, 
67.674158, 71.836831, 92.84496, 78.365957, 94.67502, 210.972259, 
158.707064, 127.931113, 128.69415, 86.062123, 85.741782, 84.293248, 
83.227019, 65.563732, 65.071373, 64.174522, 64.048843, 64.4275, 
64.440958, 64.596742, 65.006313, 62.247147, 62.078683, 62.081964, 
62.141226, 61.914355, 61.226814, 62.171604, 60.854137, 61.286747, 
61.870183, 61.806146, 62.369089, 61.848868, 62.035855, 61.617587, 
61.774272, 152.163472, 118.161767, 107.224603, 91.261913, 83.219299, 
79.922502, 77.239139, 72.249865, 71.551674, 67.192463, 67.791294, 
65.877925, 64.97897, 64.801397, 64.069074, 64.855487, 64.709391, 
65.298579, 64.118114, 64.734674, 63.733292, 64.548862, 64.852039, 
64.752099, 65.030878, 64.581697, 65.058266, 64.341414, 64.643325, 
65.928628, 65.190979, 66.108062), dim = c(32L, 4L), dimnames = list(
    c("1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", 
    "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", 
    "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", 
    "32"), c("PKnuth", "PQuick2B", "PFrog0", "PFrog2")))

eFootprint <- 
structure(c(418.045276, 318.367264, 256.582252, 252.081538, 163.709704, 
163.350438, 161.924274, 160.909282, 127.434512, 126.272492, 126.852936, 
125.283286, 125.950212, 129.154514, 128.601198, 128.14422, 123.520406, 
123.583056, 122.342336, 122.164306, 122.896446, 122.229642, 124.36936, 
123.538442, 121.949168, 121.263626, 120.394866, 121.388498, 121.530948, 
122.360858, 123.096022, 122.443864, 97.502694, 74.959716, 93.589963, 
85.951702, 75.770282, 89.753582, 69.34935, 64.86571, 70.897869, 
78.701024, 68.679844, 70.505631, 81.716584, 63.436051, 66.972855, 
92.99397, 90.425637, 94.005957, 91.228528, 65.221664, 67.951305, 
76.279732, 78.113468, 80.351298, 76.939152, 79.098632, 77.744728, 
67.674158, 71.836831, 92.84496, 78.365957, 94.67502, 316.4583885, 
238.060596, 191.8966695, 193.041225, 129.0931845, 128.612673, 
126.439872, 124.8405285, 98.345598, 97.6070595, 96.261783, 96.0732645, 
96.64125, 96.661437, 96.895113, 97.5094695, 93.3707205, 93.1180245, 
93.122946, 93.211839, 92.8715325, 91.840221, 93.257406, 91.2812055, 
91.9301205, 92.8052745, 92.709219, 93.5536335, 92.773302, 93.0537825, 
92.4263805, 92.661408, 182.596166853482, 141.794120752149, 128.669523919554, 
109.514295871982, 99.8631590480128, 95.9070026381876, 92.6869670301906, 
86.6998382153214, 85.8620090132406, 80.6309558002492, 81.3495530020338, 
79.0535101963315, 77.9747641936524, 77.7616765931232, 76.8828889909407, 
77.8265845932844, 77.651269392849, 78.3582949946049, 76.9417369910869, 
77.6816089929244, 76.47995058994, 77.4586345923706, 77.8224469932741, 
77.7025189929763, 78.0370537938071, 77.4980365924685, 78.0699193938887, 
77.2096969917524, 77.5719901926521, 79.1143537964826, 78.2291749942843, 
79.3296745970174), dim = c(32L, 4L), dimnames = list(c("1", "2", 
"3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", 
"15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", 
"26", "27", "28", "29", "30", "31", "32"), c("PKnuth", "PQuick2B", 
"PFrog0", "PFrog2")))

}else{
  
runTime <-
structure(c(12.729152666, 6.524325178, 3.544521451, 3.465027171, 
2.144355579, 2.139783488, 2.143739197, 2.120977285, 1.668358452, 
1.670111135, 1.670573204, 1.653683672, 1.683915365, 1.672892759, 
1.682073086, 1.736859675, 1.669734542, 1.699042797, 1.630808857, 
1.643917776, 1.62526784, 1.62833411, 1.632398571, 1.634898422, 
1.622734212, 1.611516998, 1.617414274, 1.627258351, 1.618473687, 
1.613697216, 1.634454607, 1.634527512, 5.84685483, 2.443475287, 
4.509488336, 5.343383492, 2.604351791, 5.281151539, 2.571888208, 
3.139831577, 5.144726388, 3.409168346, 4.04487584, 4.804887133, 
4.346496398, 3.883174299, 5.820504577, 3.560095939, 4.5654953, 
2.64751677, 4.028630793, 3.598399307, 5.407910401, 3.970209772, 
5.606056927, 3.799502195, 4.047197369, 4.598925662, 2.221091318, 
5.118354263, 4.024383735, 4.712849352, 4.815759328, 3.623649783, 
12.951156143, 6.642918252, 3.58489628, 3.543783817, 2.154822743, 
2.13872818, 2.120757472, 2.107206274, 1.626685018, 1.623532457, 
1.627155719, 1.646902959, 1.622658796, 1.624776587, 1.634115455, 
1.638866977, 1.575531686, 1.568793292, 1.573864235, 1.562918313, 
1.555142994, 1.558784465, 1.560218543, 1.572215401, 1.575186515, 
1.558259451, 1.578223452, 1.560555613, 1.568460436, 1.584815032, 
1.561746605, 1.560288642, 9.617574056, 4.47437099, 3.747080597, 
2.664440031, 2.315144585, 2.101147113, 2.040091499, 1.961622776, 
1.877483282, 1.786045368, 1.830657977, 1.721701024, 1.71005285, 
1.688025666, 1.70228277, 1.700442188, 1.68351367, 1.730469637, 
1.711350668, 1.692008466, 1.682850538, 1.667183506, 1.688929603, 
1.696009463, 1.698521191, 1.714516879, 1.712797243, 1.704323285, 
1.687527618, 1.706173984, 1.725017098, 1.72086835), dim = c(32L, 
4L), dimnames = list(c("1", "2", "3", "4", "5", "6", "7", "8", 
"9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", 
"20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", 
"31", "32"), c("PKnuth", "PQuick2B", "PFrog0", "PFrog2")))

Energy <-
structure(c(226.888184, 168.893563, 131.435738, 131.787466, 95.681087, 
93.306942, 92.445613, 91.663732, 70.696112, 69.10191, 68.368428, 
67.470113, 66.183436, 67.310438, 67.47823, 65.171343, 63.18849, 
62.255249, 60.486755, 60.386266, 61.486185, 61.577046, 61.251746, 
60.741229, 62.015302, 61.560506, 61.472345, 62.305585, 62.069147, 
62.242218, 62.067057, 62.072916, 101.347252, 72.468634, 90.881362, 
99.996294, 75.639063, 96.989217, 76.320654, 82.933898, 98.329265, 
83.330255, 89.640567, 95.750359, 90.302825, 88.139485, 105.827062, 
85.428917, 93.019054, 76.629323, 89.068591, 85.093973, 101.738086, 
88.110327, 104.386798, 87.133814, 88.951485, 93.933573, 72.834063, 
99.528208, 90.534335, 96.330361, 97.720121, 86.155059, 213.012666, 
161.341815, 131.112741, 130.497677, 102.245628, 102.957261, 102.837364, 
101.837858, 78.449388, 78.373526, 78.780761, 78.89541, 77.958462, 
76.403443, 76.219752, 76.360507, 73.730639, 72.489065, 74.931474, 
73.581537, 72.382244, 73.452378, 72.783605, 73.72365, 74.9801, 
73.764877, 73.961233, 73.739565, 72.921461, 74.586291, 74.065689, 
74.271244, 165.014369, 119.790268, 112.810389, 97.164943, 93.683464, 
89.858787, 86.360799, 84.578313, 82.882311, 79.166407, 81.780225, 
79.921083, 78.250607, 77.543002, 78.494186, 78.053168, 77.595627, 
78.353019, 78.577281, 77.494665, 77.560168, 76.589621, 77.845263, 
76.960833, 78.043938, 78.094991, 77.876725, 77.983424, 77.255083, 
77.964092, 78.771042, 78.174485), dim = c(32L, 4L), dimnames = list(
    c("1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", 
    "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", 
    "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", 
    "32"), c("PKnuth", "PQuick2B", "PFrog0", "PFrog2")))

eFootprint <-
structure(c(453.776368, 337.787126, 262.871476, 263.574932, 191.362174, 
186.613884, 184.891226, 183.327464, 141.392224, 138.20382, 136.736856, 
134.940226, 132.366872, 134.620876, 134.95646, 130.342686, 126.37698, 
124.510498, 120.97351, 120.772532, 122.97237, 123.154092, 122.503492, 
121.482458, 124.030604, 123.121012, 122.94469, 124.61117, 124.138294, 
124.484436, 124.134114, 124.145832, 101.347252, 72.468634, 90.881362, 
99.996294, 75.639063, 96.989217, 76.320654, 82.933898, 98.329265, 
83.330255, 89.640567, 95.750359, 90.302825, 88.139485, 105.827062, 
85.428917, 93.019054, 76.629323, 89.068591, 85.093973, 101.738086, 
88.110327, 104.386798, 87.133814, 88.951485, 93.933573, 72.834063, 
99.528208, 90.534335, 96.330361, 97.720121, 86.155059, 319.518999, 
242.0127225, 196.6691115, 195.7465155, 153.368442, 154.4358915, 
154.256046, 152.756787, 117.674082, 117.560289, 118.1711415, 
118.343115, 116.937693, 114.6051645, 114.329628, 114.5407605, 
110.5959585, 108.7335975, 112.397211, 110.3723055, 108.573366, 
110.178567, 109.1754075, 110.585475, 112.47015, 110.6473155, 
110.9418495, 110.6093475, 109.3821915, 111.8794365, 111.0985335, 
111.406866, 198.017242062328, 143.748321064496, 135.372466295698, 
116.597931165639, 112.420156381202, 107.8305439983, 103.632958413937, 
101.493975221905, 99.4587728294872, 94.9996880460986, 98.1362696344139, 
95.9052992427249, 93.9007280501925, 93.0516020533558, 94.1930228491036, 
93.6638012510751, 93.1147520531205, 94.0236224497347, 94.2927368487322, 
92.9935976535719, 93.072201253279, 91.9075448576177, 93.4143152520046, 
92.3529992559583, 93.6527252511164, 93.7139888508882, 93.4520696518639, 
93.5801084513869, 92.7060992546429, 93.5569100514733, 94.525250047866, 
93.8093816505328), dim = c(32L, 4L), dimnames = list(c("1", "2", 
"3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", 
"15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", 
"26", "27", "28", "29", "30", "31", "32"), c("PKnuth", "PQuick2B", 
"PFrog0", "PFrog2")))
}

## ----eval=FALSE--------------------------------------------------------------------
#  situtation <- "insitu"
#  #situtation <- "exsitu"
#  n <- 2^27
#  x <- prunif(n)
#  A <- c("PKnuth","PQuick2B","PFrog0", "PFrog2")
#  names(A) <- A
#  P <- 1:32
#  names(P) <- P
#  # we collect the results in a A x P matrix of list elements
#  M <- do.call("cbind", lapply(A, function(a){
#    cat("a=", a, "\n", sep="")
#    lapply(P, function(p){
#      cat("  p=", p, "\n", sep="")
#      y <- x[]
#      Sys.sleep(1)  # cool down CPU for fair TURBO
#      perf(algodb[[a,"func"]](y, threads=p, situation=situtation))
#    })
#  }))
#  runTime <- apply(M,1:2,function(i)i[[1]][,"runTime"])
#  Energy <- apply(M,1:2,function(i)i[[1]][,"bcdEnergy"])
#  eFootprint <- apply(M,1:2,function(i)i[[1]][,"bcdFootprint"])
#  dput(runTime)
#  dput(Energy)
#  dput(eFootprint)
#  rm(x)

## ----------------------------------------------------------------------------------
matplot(1:32, t(t(runTime)/runTime["1",]), pch=c("K","Q","F","2"), type="b", log="xy", main="runTime within algorithms", xlab="threads", ylab="KPI relativ to 1 thread of same algo", axes=FALSE)
axis(1); axis(2, at=1/(1:8), labels = paste("1/", 1:8, sep="")); abline(h=1/(1:8), col="gray")
matplot(1:32, runTime/runTime["1","PKnuth"], pch=c("K","Q","F","2"), type="b", log="xy", main="runTime across algorithms", xlab="threads", ylab="KPI relativ to 1 thread of Knuthsort", axes=FALSE)
axis(1); axis(2, at=1/(1:8), labels = paste("1/", 1:8, sep="")); abline(h=1/(1:8), col="gray")

## ----------------------------------------------------------------------------------
matplot(1:32, t(t(Energy)/Energy["1",]), pch=c("K","Q","F","2"), type="b", log="xy", main="Energy within algorithms", xlab="threads", ylab="KPI relativ to 1 thread of same algo", axes=FALSE)
axis(1); axis(2, at=1/(1:8), labels = paste("1/", 1:8, sep="")); abline(h=1/(1:8), col="gray")
matplot(1:32, Energy/Energy["1","PKnuth"], pch=c("K","Q","F","2"), type="b", log="xy", main="Energy across algorithms", xlab="threads", ylab="KPI relativ to 1 thread of Knuthsort", axes=FALSE)
axis(1); axis(2, at=1/(1:8), labels = paste("1/", 1:8, sep="")); abline(h=1/(1:8), col="gray")

## ----------------------------------------------------------------------------------
matplot(1:32, eFootprint/eFootprint["1","PKnuth"], pch=c("K","Q","F","2"), type="b", log="xy", main="eFootprint across algorithms", xlab="threads", ylab="KPI relativ to 1 thread of Knuthsort", axes=FALSE)
axis(1); axis(2, at=1/(1:8), labels = paste("1/", 1:8, sep="")); abline(h=1/(1:8), col="gray")

## ----------------------------------------------------------------------------------
algodb[algodb$task %in% c("MEDIAN", "SELECT"),c("name","best","average","worst")]

## ----------------------------------------------------------------------------------
x <- testdb$func$tielog2(100)
y <- sort(x)
t(y)

## ----------------------------------------------------------------------------------
y <- x[]
v <- BFPRTselect(y, 50)
v

## ----------------------------------------------------------------------------------
as.vector(v)

## ----------------------------------------------------------------------------------
rawperf(v)

## ----------------------------------------------------------------------------------
sperf(v)

## ----------------------------------------------------------------------------------
as.vector(approxMedian(as.double(1:100)))

## ----------------------------------------------------------------------------------
as.vector(approxMedian(as.double(1:100), situation = "exsitu"))

## ----------------------------------------------------------------------------------
as.vector(Pickselect(as.double(1:100)))

## ----------------------------------------------------------------------------------
y <- x
k <- as.vector(Zickselect(y))
k

## ----------------------------------------------------------------------------------
y[k[1]]

## ----------------------------------------------------------------------------------
y

## ----------------------------------------------------------------------------------
set.seed(2)
example(Zickselect)

## ----------------------------------------------------------------------------------
n <- 2^27
k1 <- n %/% 2
k2 <- k1 + 1
x <- testdb$func$tielog2(n)
p <- perfnow()
m <- median(x)
pm <- sperf(perfthen(p, rowname = "median", n=n, b=8, p=1, t=1, size = 1))
p <- perfnow()
q <- quantile(x, 0.5, type=1)
pq <- sperf(perfthen(p, rowname = "quantile", n=n, b=8, p=1, t=1, size = 1))
rbind(pm,pq)

## ----------------------------------------------------------------------------------
l <- list(
  {          approxMedian(x, situation = "exsitu")}
, {y <- x[]; approxMedian(y) } # default: , situation = "insitu")
, {y <- x[]; BFPRTselect(y) }
, {y <- x[]; Pickselect(y) }
, {y <- x[]; Zickselect(y) }
, {y <- x[]; Quickselect(y) }
, {y <- x[]; Zackselect(y) }
, {y <- x[]; ZuckselectB(y) }
, {y <- x[]; p1 <- rawperf(ZuckselectB(y, k1)); p2 <- rawperf(ZuckselectB(y, k2)); 
   i <- c("secs","base","core","unco","dram"); p1[,i] <- p1[,i]+p2[,i]; p1}
, {y <- x[]; ZuckpartB(y, partial= c(k1,k2)) }
)

## ----------------------------------------------------------------------------------
names(l) <- sapply(l, function(x){rownames(rawperf(x))})
lapply(l, as.vector)[-c(length(l), length(l)-1)]

## ----------------------------------------------------------------------------------
c(diff(l[["Zickselect"]])+1, sum(x==m))

## ----------------------------------------------------------------------------------
e <- perfnow()
y <- x[]
e <- sperf(perfthen(e, rowname = "alloc+copy", n=n, b=8, p=1, t=1, size = 1))
r <- rbind(e, pm, pq, do.call("rbind", lapply(l, sperf)))
r <- data.frame(worst=algodb$worst[match(rownames(r), algodb$name)], r)
r["alloc.copy","worst"] <- "N"
r["median","worst"] <- "N²"
r["quantile","worst"] <- "N²"
rownames(r)[4:5] <- c("approxMedian (exsitu)","approxMedian (insitu)")
rownames(r)[11:12] <- c("ZuckselectB (1x)","ZuckselectB (2x)")
colnames(r)[2] <- "%RAM"
r[order(r$bcdEnergy, decreasing = TRUE),]

## ----------------------------------------------------------------------------------
n <- getOption("greensort_example_size")
k <- round(c(0.33, 0.67)*n)
x <- testdb$func$tielog2(n)
#par(mfrow=c(2, 2))
y1 <- x[]; r1 <- Quickpartleft(y1,  k[2]) ; plot(y1, main="Quickpartleft (k)"); abline(v=k[2], col="red")
y2 <- x[]; r2 <-  Zackpartleft(y2,  k[2]) ; plot(y2, main="Zackpartleft (k)"); abline(v=k[2], col="red", abline(v=r2, col=greensort_color))
y3 <- x[]; r3 <- Quickpart(y3, c(1, k[2])); plot(y3, main="Quickpart (1,k)"); abline(v=k[2], col="red")
y4 <- x[]; r4 <- Quickpart(y4,          k); plot(y4, main="Quickpart (k[1],k[2])"); abline(v=k   , col="red")
#par(mfrow=c(1,1))
rm(y1,y2,y3,y4)

## ----------------------------------------------------------------------------------
list(r1, r2, r3, r4)

## ----------------------------------------------------------------------------------
n <- 2^26
k <- round(c(0.33, 0.67)*n)
x <- testdb$func$tiesqrt(n)
y <- x[]; r1 <- perf(Dotnetpart(y, k)) 
y <- x[]; r2 <- perf( Quickpart(y, k)) 
y <- x[]; r3 <- perf( Zuckpart (y, k)) 
y <- x[]; r4 <- perf( ZuckpartB(y, k))
rm(x,y)
rbind(r1,r2,r3,r4)

## ----------------------------------------------------------------------------------
num2str(testdb$func$stable(7))

## ----------------------------------------------------------------------------------
subset(vtestdb, major == "K", c("name","relentropy","monotAscFrac", "strictAscFrac","spearman"))

## ----------------------------------------------------------------------------------
x <- KafkaWords()
par(mfrow=c(1,2))
barplot(tabulate(nchar(x)), col="red", main="Frequency of Kafka Word lengths", sub="blue=unique  red=duplicated")
barplot(tabulate(nchar(unique(x))), add=TRUE, col="blue")
par(pty="s")
plot(seq_along(x), rank(x), col=rgb(0,0,1,0.3), pch=".", main="Presorting of Kafka Words")
par(mfrow=c(1,1), pty="m")

## ----------------------------------------------------------------------------------
string_check(KafkaParts())

## ----------------------------------------------------------------------------------
x <- BibleWords()
par(mfrow=c(1,2))
barplot(tabulate(nchar(x)), col="red", main="Frequency of Bible Word lengths", sub="blue=unique  red=duplicated")
barplot(tabulate(nchar(unique(x))), add=TRUE, col="blue")
plot(seq_along(x), rank(x), col=rgb(0,0,1,0.3), pch=".", main="Presorting of Bible Words")
par(mfrow=c(1,1))

## ----------------------------------------------------------------------------------
A <- c("WQuick2","UZack","VKnuth", "VFrog1")
M <- do.call("rbind", lapply(A, function(a){
    y <- x[]
    Sys.sleep(1)
    sperf(algodb[[a,"func"]](y))
}))
t(t(M)/apply(M, 2, min))

## ----------------------------------------------------------------------------------
shift <- function(x, i){
  if (i>0)
    x <- c(x[-(1:i)], x[1:i])
  x
}
x <- BibleWords()
x <- paste(x, shift(x, 1), shift(x, 2), shift(x, 3), shift(x, 4))
par(mfrow=c(1,2))
barplot(tabulate(nchar(x)), col="red", main="Frequency of Bible Word 5-gram lengths", sub="blue=unique  red=duplicated")
barplot(tabulate(nchar(unique(x))), add=TRUE, col="blue")
plot(seq_along(x), rank(x), col=rgb(0,0,1,0.3), pch=".", main="Presorting of Bible Word 5-grams")
par(mfrow=c(1,1))

## ----------------------------------------------------------------------------------
A <- c("WQuick2","UZack","VKnuth", "VFrog1")
M <- do.call("rbind", lapply(A, function(a){
    y <- x[]
    Sys.sleep(1)
    sperf(algodb[[a,"func"]](y))
}))
t(t(M)/apply(M, 2, min))

## ----------------------------------------------------------------------------------
x <- DictWords()
par(mfrow=c(1,2))
barplot(tabulate(nchar(x)), col="red", main="Frequency of Dictionary Word lengths", sub="blue=unique  red=duplicated")
barplot(tabulate(nchar(unique(x))), add=TRUE, col="blue")
plot(seq_along(x), rank(x), col=rgb(0,0,1,0.3), pch=".", main="Presorting of Dictionary Words")
par(mfrow=c(1,1))

## ----------------------------------------------------------------------------------
A <- c("WQuick2","UZack","VKnuth", "VFrog1")
M <- do.call("rbind", lapply(A, function(a){
    y <- x[]
    Sys.sleep(1)
    sperf(algodb[[a,"func"]](y))
}))
t(t(M)/apply(M, 2, min))

## ----------------------------------------------------------------------------------
A <- algodb$label[algodb$matrix]
split(A, algodb[A,"task"])

## ----echo=FALSE--------------------------------------------------------------------
x <- rbind(
  c(2L,2L,2L,1L,1L,1L)
, c(3L,2L,1L,3L,2L,1L)  
)
MInsertionsort(x)
x

## ----echo=FALSE--------------------------------------------------------------------
runTime <-
structure(c(0.491650687, 0.281677207, 0.450672149, 0.293243583, 
0.45109567, 0.227832189, 0.548152004, 0.393586745, 0.475118904, 
0.421389054, 0.506445224, 0.395188291, 0.581341217, 0.505012348, 
0.510852527, 0.484412974, 0.521770699, 0.432023319, 2.404920365, 
1.130987072, 2.120209785, 1.150677455, 2.89720997, 1.106007144
), dim = c(6L, 4L), dimnames = list(c("MKnuth", "NKnuth", "MFrog1", 
"NFrog1", "MFrog2", "NFrog2"), c("1", "2", "5", "50")))
Energy <-
structure(c(14.354406, 7.389434, 12.464077, 8.084436, 12.839806, 
6.422245, 14.877404, 8.857391, 11.81253, 13.254991, 22.456999, 
16.980079, 26.06039, 20.810814, 22.404008, 19.428317, 22.081164, 
16.555113, 99.627035, 43.415983, 79.894245, 40.970431, 98.071771, 
35.107636), dim = c(6L, 4L), dimnames = list(c("MKnuth", "NKnuth", 
"MFrog1", "NFrog1", "MFrog2", "NFrog2"), c("1", "2", "5", "50"
)))
eFootprint <-
structure(c(28.708812, 36.7022731034097, 18.6961155, 32.337744, 
14.674064, 21.1016612678957, 29.754808, 26.572173, 17.718795, 
37.3043378599943, 25.6651417142857, 43.5558888220557, 52.12078, 
42.5998152071055, 33.606012, 38.8676570446551, 25.235616, 31.5687088761878, 
199.25407, 77.009704691933, 119.8413675, 72.6999085557408, 112.082024, 
63.5065013253506), dim = c(6L, 4L), dimnames = list(c("MKnuth", 
"NKnuth", "MFrog1", "NFrog1", "MFrog2", "NFrog2"), c("1", "2", 
"5", "50")))

## ----eval=FALSE--------------------------------------------------------------------
#  A <- c("MKnuth", "NKnuth", "MFrog1", "NFrog1", "MFrog2", "NFrog2")
#  names(A) <- A
#  D <- c(1,2,5,50)
#  names(D) <- D
#  n <- 2^22
#  # we collect the results in a A x D matrix of list elements
#  x <- rbind(sample(n))
#  M <- do.call("cbind", lapply(D, function(d){
#    x <- do.call("rbind", rep(list(x[1,]), d))
#    cat("d=", d, "\n", sep="")
#    P <- lapply(A, function(a){
#      cat("  a=", a, "\n", sep="")
#        y <- x[]
#      Sys.sleep(1)  # cool down CPU for fair TURBO
#      if (a %in% c("MFrog1", "NFrog1"))
#      perf(algodb[[sub("1","2",a),"func"]](y, p=0.5))
#      else
#      perf(algodb[[a,"func"]](y))
#    })
#    P
#  }))
#  rm(x)
#  T <- function(x)cbind(x, "ALL"=rowMeans(cbind(x, x[,"permut"])), ASC=rowMeans(x[,c("permut","asclocal","ascglobal","ascall")]))
#  runTime <- apply(M,1:2,function(i)i[[1]][,"runTime"])
#  Energy <- apply(M,1:2,function(i)i[[1]][,"bcdEnergy"])
#  eFootprint <- apply(M,1:2,function(i)i[[1]][,"bcdFootprint"])
#  dput(runTime)
#  dput(Energy)
#  dput(eFootprint)

## ----------------------------------------------------------------------------------
round(runTime/runTime["MKnuth",1], 3)

## ----------------------------------------------------------------------------------
round(Energy/Energy["MKnuth",1], 3)

